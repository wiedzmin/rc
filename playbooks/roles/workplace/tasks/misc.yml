- include_vars: "{{ item }}"
  tags: [misc]
  with_items:
    - misc.yml
    - paths.yml

# TODO: put rc-update data under version control, e.g.:
# shell: rc-update add {{ item.name }} {{ item.level }}
# with_items: {{ rc_update_items }}
# and maybe export and delete all previous data before this

- name: backup Emacs bookmarks
  tags: [misc, backup]
  copy:
    src: "{{ emacs_config_dir }}/data/bookmark-default.el"
    dest: "{{ playbook_dir }}/../private/bookmarks/bookmark-default.el"
    mode: 0755

- name: restore Emacs bookmarks
  tags: [misc, restore]
  copy:
    src: "{{ playbook_dir }}/../private/bookmarks/bookmark-default.el"
    dest: "{{ emacs_config_dir }}/data/bookmark-default.el"
    mode: 0755

- name: accompanying tools | shepherd (scheduling) | copy jobs definitions
  tags: [misc, shepherd]
  copy:
    src: "{{ playbook_dir }}/../private/shepherd-jobs"
    dest: "/home/octocat/shepherd-jobs.yml"
    mode: 0755

- name: imapfilter | copy generated config file
  tags: [misc, imapfilter]
  copy:
    content: "{{ lookup('template', 'mail/imapfilter.conf.lua') }}"
    dest: "{{ ansible_env.HOME }}/.imapfilter/config.lua"
