# These settings were set by the catalyst build script that automatically
# built this stage.
# Please consult /usr/share/portage/config/make.conf.example for a more
# detailed example.
CFLAGS="-march=core-avx-i -O2 -pipe -fstack-protector-strong"
CXXFLAGS="${CFLAGS}"
LDFLAGS="-Wl,-O1,--sort-common,--as-needed,-z,relro,-z,now"
DEBUG_CFLAGS="-g -ggdb -fvar-tracking-assignments"
DEBUG_CXXFLAGS="${DEBUG_CFLAGS}"

# WARNING: Changing your CHOST is not something that should be done lightly.
# Please consult http://www.gentoo.org/doc/en/change-chost.xml before changing.
CHOST="x86_64-pc-linux-gnu"
# These are the USE flags that were used in addition to what is provided by the
# profile used for building.
USE="-gnome -gtk -kde -libav -qt3support -qt4 X alsa apngcdr consolekit dbus declarative dvd gudev glamor hwdb minizip mng ogg opengl png policykit pulseaudio python qt5 sql svg vorbis webkit xft xinerama"
#CPU_FLAGS_X86="mmx sse sse2 sse3 sse4_1 sse4_2 ssse3"
CPU_FLAGS_X86="aes avx fma3 mmx mmxext popcnt sse sse2 sse3 sse4_1 sse4_2 ssse3"
MAKEOPTS="-j4"

USE_PYTHON='2.7 3.6'
PYTHON_TARGETS="python2_7 python3_6"
PYTHON_SINGLE_TARGET="python2_7"

ACCEPT_KEYWORDS="~amd64"
ACCEPT_LICENSE="google-chrome AdobeFlash-10.3 Intel-SDP PUEL Oracle-BCLA-JavaSE"
LINGUAS="ru en"

FEATURES="nostrip"

VIDEO_CARDS="intel i965" #nvidia
INPUT_DEVICES="evdev synaptics"

GENTOO_MIRRORS="{{ portage_distfiles_mirrors | join(' ') }}"

GRUB_PLATFORMS="pc" # Standard PC (BIOS)

QEMU_SOFTMMU_TARGETS="i386 x86_64"
QEMU_USER_TARGETS="i386 x86_64"

PORTDIR_OVERLAY="/usr/local/portage/"

source "/var/lib/layman/make.conf"
source "/usr/share/fetchcommandwrapper/make.conf"