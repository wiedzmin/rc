#!/sbin/openrc-run

DAEMON={{ project_root }}/utils/shepherd
PIDFILE={{ ansible_env.HOME }}/shepherd.pid # consider collecting pidfiles in separate dir

start () {
	ebegin "Starting shepherd"
	start-stop-daemon --background --start -u octocat:octocat --exec ${DAEMON} \
        --make-pidfile --pidfile ${PIDFILE}
	eend $? "Failed to start shepherd"
}

stop() {
	ebegin "Stopping shepherd"
	start-stop-daemon --stop --pidfile ${PIDFILE}
	eend $? "Failed to stop shepherd"
}
